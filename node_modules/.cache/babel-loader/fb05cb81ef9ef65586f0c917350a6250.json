{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/crud-op/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Table,Button}from\"semantic-ui-react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Read(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),apiData=_useState2[0],setApiData=_useState2[1];useEffect(function(){axios.get(\"https://633d7113f2b0e623dc73e67b.mockapi.io/crud\").then(function(getData){setApiData(getData.data);}).catch(function(err){console.log(err);});},[]);var getData=function getData(){axios.get(\"https://633d7113f2b0e623dc73e67b.mockapi.io/crud\").then(function(getData){setApiData(getData.data);});};var onDelete=function onDelete(id){axios.delete(\"https://633d7113f2b0e623dc73e67b.mockapi.io/crud/\".concat(id)).then(function(){getData();}).then(function(){history.push('/read');}).catch(function(err){console.log(err);});};var setID=function setID(id,firstName,lastName){localStorage.setItem('ID',id);localStorage.setItem('firstName',firstName);localStorage.setItem('lastName',lastName);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Table,{celled:true,children:[/*#__PURE__*/_jsx(Table.Header,{children:/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"ID Number\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"First Name\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"update\"}),/*#__PURE__*/_jsx(Table.HeaderCell,{children:\"delete\"})]})}),/*#__PURE__*/_jsx(Table.Body,{children:apiData.map(function(data){return/*#__PURE__*/_jsxs(Table.Row,{children:[/*#__PURE__*/_jsx(Table.Cell,{children:data.id}),/*#__PURE__*/_jsx(Table.Cell,{positive:true,children:data.firstName}),/*#__PURE__*/_jsx(Table.Cell,{negative:true,children:data.lastName}),/*#__PURE__*/_jsx(Table.Cell,{negative:true,children:/*#__PURE__*/_jsx(Link,{to:\"/update\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setID(data.id,data.firstName,data.lastName);},color:\"green\",children:\"update\"})})}),/*#__PURE__*/_jsx(Table.Cell,{negative:true,children:/*#__PURE__*/_jsx(Link,{to:\"/delete\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return onDelete(data.id);},color:\"red\",children:\"delete\"})})})]},data.id);})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Table","Button","axios","Link","useHistory","Read","history","apiData","setApiData","get","then","getData","data","catch","err","console","log","onDelete","id","delete","push","setID","firstName","lastName","localStorage","setItem","map"],"sources":["/Users/admin/Desktop/crud-op/src/components/read/Read.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Table, Button } from \"semantic-ui-react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Read() {\n  const history = useHistory();\n  const [apiData, setApiData] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`https://633d7113f2b0e623dc73e67b.mockapi.io/crud`)\n      .then((getData) => {\n        setApiData(getData.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const getData = () => {\n    axios.get(`https://633d7113f2b0e623dc73e67b.mockapi.io/crud`)\n    .then((getData) => {\n      setApiData(getData.data)\n    })\n  }\n\n  const onDelete = (id) => {\n    axios.delete(`https://633d7113f2b0e623dc73e67b.mockapi.io/crud/${id}`)\n    .then(() => {\n      getData();\n    }).then(() => {\n      history.push('/read')\n    })\n    .catch(err => {\n      console.log(err)\n    })\n  }\n\n  const setID = (id, firstName, lastName) => {\n    localStorage.setItem('ID', id)\n    localStorage.setItem('firstName', firstName)\n    localStorage.setItem('lastName', lastName)\n  }\n\n  return (\n    <div>\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>ID Number</Table.HeaderCell>\n            <Table.HeaderCell>First Name</Table.HeaderCell>\n            <Table.HeaderCell>Last Name</Table.HeaderCell>\n            <Table.HeaderCell>update</Table.HeaderCell>\n            <Table.HeaderCell>delete</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {apiData.map((data) => {\n            return (\n              <Table.Row key={data.id}>\n                <Table.Cell>{data.id}</Table.Cell>\n                <Table.Cell positive>{data.firstName}</Table.Cell>\n                <Table.Cell negative>{data.lastName}</Table.Cell>\n                <Table.Cell negative>\n                  <Link to='/update'>\n                    <Button \n                      onClick={() => {\n                        setID(data.id, data.firstName, data.lastName)\n                        }}\n                      color='green'>update</Button>\n                  </Link>\n                </Table.Cell>\n                <Table.Cell negative>\n                  <Link to='/delete'>\n                    <Button\n                      onClick={() => onDelete(data.id)}\n                      color='red'>delete</Button> \n                  </Link>\n                </Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}